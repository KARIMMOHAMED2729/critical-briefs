<div class="bg-amber-950 dark:bg-[#0a1325] p-4 fixed w-full h-auto z-50">
  <div class="flex justify-around items-center">
    <div routerLink="/" class="cursor-pointer">
      <img class="w-10 sm:w-14 not" src="logoname2.png" alt="">
    </div>

      <div class="flex space-x-2 lg:space-x-14">
          <!-- ุฃููููุฉ ุงูููุถูุฉ -->
          <div routerLink="/Favorites" routerLinkActive="text-orange-400" [routerLinkActiveOptions]="{exact:true}" class="relative flex flex-col sm:flex-row items-center cursor-pointer" *ngIf="isLoggedIn" #favLink="routerLinkActive">
            <fa-icon 
              [icon]="faHeart" 
              [ngClass]="{'text-orange-400': favLink.isActive, 'text-white dark:text-gray-300': !favLink.isActive}" 
              class="relative text-xs sm:text-base mb-1 sm:mb-0" 
              title="ุงูููุถูุฉ">
            </fa-icon>
            <span [ngClass]="{'text-orange-400': favLink.isActive, 'text-white dark:text-gray-300': !favLink.isActive}" class="text-xs sm:text-xs">ุงูููุถูุฉ</span>
            <span *ngIf="favoritesCount > 0" 
                  class="absolute sm:-top-1/2 right-0 bg-blue-600 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center">
              {{ favoritesCount }}
            </span>
          </div>

          <!-- ุฃููููุฉ print -->
          <div *ngIf="isLoggedIn" class="relative flex flex-col sm:flex-row items-center cursor-pointer" routerLink="/print" routerLinkActive="text-orange-400" [routerLinkActiveOptions]="{exact:true}" #printLink="routerLinkActive">
            <fa-icon 
              [icon]="faFilePdf" 
              [ngClass]="{'text-orange-400': printLink.isActive, 'text-white dark:text-gray-300': !printLink.isActive}" 
              class="relative text-xs sm:text-base mb-1 sm:mb-0" 
              title="ุฅุทุจุนูู">
            </fa-icon>
            <span [ngClass]="{'text-orange-400': printLink.isActive, 'text-white dark:text-gray-300': !printLink.isActive}" class="text-xs sm:text-xs">ุฅุทุจุนูู</span>
          </div>

          <!-- ุฃููููุฉ ุณูุฉ ุงููุดุชุฑูุงุช -->
          <div routerLink="/basket" routerLinkActive="text-orange-400" [routerLinkActiveOptions]="{exact:true}" class="relative flex flex-col sm:flex-row items-center cursor-pointer" *ngIf="isLoggedIn" #cartLink="routerLinkActive">
            <fa-icon 
             [icon]="faCartPlus" 
              [ngClass]="{'text-orange-400': cartLink.isActive, 'text-white dark:text-gray-300': !cartLink.isActive}" 
              class="relative text-xs sm:text-base mb-1 sm:mb-0" 
              title="ุณูุฉ ุงููุดุชุฑูุงุช">
            </fa-icon>
            <span [ngClass]="{'text-orange-400': cartLink.isActive, 'text-white dark:text-gray-300': !cartLink.isActive}" class="text-xs sm:text-xs text-center">ุณูุฉ ุงููุดุชุฑูุงุช</span>
            <span *ngIf="cartCount > 0" 
                  class="absolute sm:-top-1/2 right-0 bg-blue-600 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center">
              {{ cartCount }}
            </span>
          </div>
          <!-- Notification Icon -->
          <div (click)="toggleNotificationsDropdown()" class="relative flex flex-col sm:flex-row items-center cursor-pointer ml-4" *ngIf="isLoggedIn">
            <fa-icon 
              [icon]="faBell" 
              class="relative text-xs sm:text-base mb-1 sm:mb-0 text-white dark:text-gray-300"
              title="ุงูุฅุดุนุงุฑุงุช">
            </fa-icon>
            <span [ngClass]="{'text-orange-400': false, 'text-white dark:text-gray-300': true}" class="text-xs sm:text-xs ml-1">ุงูุฅุดุนุงุฑุงุช</span>
            <span *ngIf="unreadCount > 0" 
                  class="absolute sm:-top-1/2 right-0 bg-red-600 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center cursor-pointer">
              {{ unreadCount }}
            </span>
<!-- Notifications Dropdown -->
            <div
              *ngIf="showNotificationsDropdown"
              class="rtl absolute right-2 sm:right-4 top-full mt-4 w-auto sm:w-72 md:w-80 max-h-96 bg-white dark:bg-gray-800  dark:border-gray-700 rounded-2xl shadow-xl z-50 flex flex-col"
            >
              <div *ngIf="notifications.length === 0" class="p-4 text-center text-gray-700 dark:text-gray-300 text-sm">
                ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช
              </div>

              <div
                *ngFor="let notification of notifications"
                class="p-4 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 transition-colors cursor-pointer"
                [ngClass]="{ 'bg-gray-100 dark:bg-gray-700': !notification.read }"
                (click)="markNotificationAsRead(notification)"
              >
                <div class="text-sm text-gray-800 dark:text-gray-200 flex-1">
                  {{ notification.message }}
                </div>

                <div class="flex gap-3 text-xs">
                  <button
                    class="text-blue-500 hover:text-blue-700 transition"
                    (click)="markNotificationAsRead(notification); $event.stopPropagation();"
                  >
                    ูุถุน ูููุฑูุก
                  </button>
                  <button
                    class="text-red-500 hover:text-red-700 transition"
                    (click)="deleteNotification(notification); $event.stopPropagation();"
                    title="ุญุฐู ุงูุฅุดุนุงุฑ"
                  >
                    <fa-icon [icon]="faTrash"></fa-icon>
                  </button>
                </div>
              </div>
            </div>


          </div>
          <!-- ุงููููุฉ requests -->
           <div class="hidden md:flex">
             <div *ngIf="isLoggedIn" class="relative flex flex-col sm:flex-row items-center cursor-pointer " [ngClass]="{'text-orange-400': isOrdersActive}"  routerLink="/requests" >
                 <fa-icon 
                 [icon]="faClipboardList"
                 [ngClass]="{'text-orange-400': isOrdersActive, 'text-white dark:text-gray-300': !isOrdersActive}"
                 class="relative text-xs sm:text-base mb-1 sm:mb-0"
                 title="ุทูุจุงุชู">
                 </fa-icon>
                 <span [ngClass]="{'text-orange-400': isOrdersActive, 'text-white dark:text-gray-300': !isOrdersActive}" class="text-xs sm:text-xs">ุทูุจุงุชู</span>
             <span *ngIf="orderCount > 0" 
                   class="absolute sm:-top-1/2 right-0 bg-blue-600 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center">
                 {{ orderCount }}
             </span>
             </div>
           </div>
          <!-- ุงููููุฉ ุงูุญุณุงุจ -->
           <div class="md:flex" [ngClass]="{'hidden': isLoggedIn}">
             <div (click)="openAccountModal()" class="relative flex flex-col sm:flex-row items-center cursor-pointer" [ngClass]="{'text-orange-400': isAccountActive, 'text-white': !isAccountActive}">
               <fa-icon 
                 [icon]="faUser" 
                 class="text-xs sm:text-base mb-1 sm:mb-0"
                 [ngClass]="{'text-orange-400': isAccountActive, 'text-white dark:text-gray-300': !isAccountActive}" 
                 title="ุงููููุฉ ุงูุญุณุงุจ">
               </fa-icon>
               <span [ngClass]="{'text-orange-400': isAccountActive, 'text-white dark:text-gray-300': !isAccountActive}" class="text-xs sm:text-xs">ุญุณุงุจู</span>
             </div>
           </div>
          
          <!-- ุฑุงุจุท ููุญุฉ ุงูุชุญูู ูููุณุคูู ููุท -->
          <div *ngIf="isAdmin" routerLink="/ControlPanel" routerLinkActive="text-orange-400" [routerLinkActiveOptions]="{exact:true}" class="flex flex-col sm:flex-row items-center cursor-pointer ml-4 text-xs sm:text-base" #adminLink="routerLinkActive">
            <fa-icon [icon]="faTachometerAlt" [ngClass]="{'text-orange-400': adminLink.isActive, 'text-white dark:text-gray-300': !adminLink.isActive}" class="text-xs sm:text-base mb-1 sm:mb-0" title="ููุญุฉ ุงูุชุญูู"></fa-icon>
            <span [ngClass]="{'text-orange-400': adminLink.isActive, 'text-white dark:text-gray-300': !adminLink.isActive}" class="ml-1 text-xs sm:text-x text-centers">ููุญุฉ ุงูุชุญูู</span>
          </div>
      </div>
                <!-- Dark Mode Toggle Button -->
      <div class="flex flex-col sm:flex-row items-center cursor-pointer ml-4" title="ุชุจุฏูู ุงููุถุน ุงูุฏุงูู">
      <button (click)="toggleDarkMode()" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full shadow-md focus:outline-none transition-colors duration-300">
      <span *ngIf="isDarkMode">๐</span>
      <span *ngIf="!isDarkMode">๐</span>
      </button>
      </div>
      <div>
          <fa-icon (click)="openBars=!openBars" [ngClass]="{hidden:openBars}" class="md:hidden font-bold text-xl text-orange-300 dark:text-orange-400 cursor-pointer" [icon]="faBars"></fa-icon>

          <fa-icon (click)="openBars=!openBars" [ngClass]="{hidden:!openBars}" class="md:hidden cursor-pointer text-2xl text-orange-300 dark:text-orange-400" [icon]="faClose"></fa-icon>
      </div>

      <div class="hidden md:block text-[12px] lg:text-xs text-orange-300 md:mr-12 lg:mr-14 rtl">
          <div class=" grid h-1/2 sm:flex sm:gap-2 md:gap-8 ">

          <div class="flex items-end sm:items-center cursor-pointer" routerLink="/Home" routerLinkActive="text-orange-400" [routerLinkActiveOptions]="{exact:true}">
                <fa-icon class="m-1 text-2xl sm:text-sm text-right" [icon]="faHome"></fa-icon>
                <span class="ml-1 text-sm sm:text-xs">ุงูุตูุญู ุงูุฑุฆูุณูู</span>
          </div>
          <div class="flex items-end sm:items-center cursor-pointer" (click)="scrollBook=!scrollBook" [ngClass]="{'text-orange-400': !scrollBook}">
              <fa-icon class="m-1 text-2xl sm:text-sm text-right" [icon]="faBook"></fa-icon>
              <span class="ml-1 text-sm sm:text-xs">ูุชุจ
                  <fa-icon [ngClass]="{hidden:!scrollBook}" class="text-xs mx-2 sm:mx-0 mb-1" [icon]="faChevronDown"></fa-icon>
                  <fa-icon [ngClass]="{hidden:scrollBook}" class="text-xs mx-2 sm:mx-0 mb-1" [icon]="faChevronUp"></fa-icon>
              </span>
          </div>
  
          <ul [ngClass]="{hidden:scrollBook}" class="absolute bg-amber-950 dark:bg-[#0a1325] right-36 md:right-[220px] top-16 rounded-sm w-40 lg:w-80 fade-in">
            <div (click)="exitBarsrow()" routerLinkActive="text-orange-400" routerLink="/Islamic" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10">
              <li>ุฏูููุฉ</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Self-development-psychology">
              <li>ุชุทููุฑ ุงูุฐุงุช ูุนูู ุงูููุณ</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Novels-stories">
              <li>ุฑูุงูุงุช ููุตุต</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Business-Marketing-Finance">
              <li>ุฃุนูุงู ูุชุณููู ููุงููุฉ</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/HealthMedicineScience">
              <li>ุตุญุฉ ูุทุจ ูุนููู</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Dictionaries-References">
              <li>ููุงููุณ ููุฑุงุฌุน</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Education-children">
              <li>ุชุฑุจูุฉ ูุฃุทูุงู</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/History-Biographies">
              <li>ุชุงุฑูุฎ ูุณูุฑ ุฐุงุชูุฉ</li>
            </div>
            <div (click)="exitBarsrow()" class="cursor-pointer flex p-2 items-end sm:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="text-orange-400" routerLink="/Arts-crafts">
              <li>ูููู ูุญุฑู</li>
            </div>
          </ul>
        </div>
      </div>
    </div>

    <!-- mopile header -->
<div class="rtl md:hidden z-40 relative text-orange-300">
  <div class="fixed md:sticky top-0 right-0 flex w-full md:w-auto h-auto items-center">
      <div [ngClass]="{hidden:!openBars}" class="hidden absolute md:sticky px-8 md:px-0 py-4 md:py-0 text-lg md:text-xs top-0 h-screen md:h-auto w-4/5 md:w-auto dark:bg-[#0a1325] bg-amber-950 shadow-2xl shadow-slate-950 md:shadow-transparent fade-bars mt-16">
      <div class="w-full h-full md:w-auto">
        <div class="grid h-1/2 md:flex md:gap-2">


            <div (click)="exitBars()" class="flex justify-between items-end md:items-center cursor-pointer">
              <div routerLink="/Home">
                <fa-icon routerLinkActive="active" class="m-1 text-md text-right" [icon]="faHome"></fa-icon>
                <span class="list">ุงูุตูุญู ุงูุฑุฆูุณูู</span>
              </div>
              <div class="flex gap-4">
              <div *ngIf="isLoggedIn" (click)="goToOrders()" class="relative flex flex-col md:flex-row items-center cursor-pointer md:hidden mb-2" [ngClass]="{'text-orange-400': isOrdersActive}" routerLink="/requests">
                <fa-icon
                  [icon]="faClipboardList"
                  [ngClass]="{'text-orange-400': isOrdersActive, 'text-white dark:text-gray-300': !isOrdersActive}"
                  class="relative text-xs md:text-base mb-1 md:mb-0"
                  title="ุทูุจุงุชู">
                </fa-icon>
                <span [ngClass]="{'text-orange-400': isOrdersActive, 'text-white dark:text-gray-300': !isOrdersActive}" class="text-xs md:text-xs">ุทูุจุงุชู</span>
                <span *ngIf="orderCount > 0" 
                      class="absolute md:-top-1/2 right-0 bg-blue-600 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center">
                    {{ orderCount }}
                </span>
              </div>
                <div (click)="openAccountModal()" class="flex flex-col md:flex-row items-center cursor-pointer md:hidden mb-2" [ngClass]="{'text-orange-400': isAccountActive, 'text-white': !isAccountActive,'hidden': !isLoggedIn}">
                  <fa-icon 
                    [icon]="faUser" 
                    class="text-xs md:text-base mb-1 md:mb-0"
                    [ngClass]="{'text-orange-400': isAccountActive, 'text-white dark:text-gray-300': !isAccountActive}" 
                    title="ุงููููุฉ ุงูุญุณุงุจ">
                  </fa-icon>
                  <span [ngClass]="{'text-orange-400': isAccountActive, 'text-white dark:text-gray-300': !isAccountActive}" class="text-xs md:text-xs">ุญุณุงุจู</span>
                </div>
              </div>
            </div>

            <div (click)="exitBarsrow();exitBars()" class="flex items-end md:items-center cursor-pointer" routerLink="/print">
             <fa-icon routerLinkActive="active" class="m-1 text-2xl md:text-md text-right" [icon]="faFilePdf"></fa-icon>
             <span class="list">ุฅุทุจุนูู</span>
            </div>    

            <!-- <div class="flex items-end md:items-center cursor-pointer" (click)="scrollBook=!scrollBook">
                <fa-icon routerLinkActive="active" class="m-1 text-2xl md:text-md text-right" [icon]="faBook"></fa-icon>
                      
            <span class="list">ูุชุจ
                <fa-icon [ngClass]="{hidden:!scrollBook}" class="text-xs mx-2 md:mx-0 mb-1" [icon]="faChevronDown"></fa-icon>
                <fa-icon [ngClass]="{hidden:scrollBook}" class="text-xs mx-2 md:mx-0 mb-1" [icon]="faChevronUp"></fa-icon>
            </span>
          </div> -->
          <h1>ุฃูุณุงู ุงูููุชุจุฉ</h1>
          <ul class="mr-4 md:mr-36 md:absolute md:bg-slate-300 top-12 md:rounded-md md:w-40">
            <div (click)="exitBars()" routerLinkActive="active" routerLink="/Islamic" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10">
              <li>ุฏูููุฉ</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Self-development-psychology">
              <li>ุชุทููุฑ ุงูุฐุงุช ูุนูู ุงูููุณ</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Novels-stories">
              <li>ุฑูุงูุงุช ููุตุต</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Business-Marketing-Finance">
              <li>ุฃุนูุงู ูุชุณููู ููุงููุฉ</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/HealthMedicineScience">
              <li>ุตุญุฉ ูุทุจ ูุนููู</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Dictionaries-References">
              <li>ููุงููุณ ููุฑุงุฌุน</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Education-children">
              <li>ุชุฑุจูุฉ ูุฃุทูุงู</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/History-Biographies">
              <li>ุชุงุฑูุฎ ูุณูุฑ ุฐุงุชูุฉ</li>
            </div>
            <div (click)="exitBars()" class="cursor-pointer flex p-2 items-end md:items-center hover:bg-amber-600 dark:hover:bg-slate-400/10" routerLinkActive="active" routerLink="/Arts-crafts">
              <li>ูููู ูุญุฑู</li>
            </div>
          </ul>
        </div>
      </div>
      </div>
      </div>
  </div>


<app-account-modal (modalClosed)="onAccountModalClosed()"></app-account-modal>
